<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.geometry.Insets?>
<?import javafx.collections.FXCollections?>
<?import java.lang.Integer?>
<?import java.lang.String?>

<StackPane xmlns:fx="http://javafx.com/fxml" fx:controller="it.polimi.ingsw.is25am02.view.gui.controllers.LobbyController"
           stylesheets="@../style/style.css">
    <!-- Background image -->
    <ImageView fitHeight="1980" fitWidth="2000" preserveRatio="true">
        <Image url="@../image/background.jpg" />
    </ImageView>
    <Label fx:id="loadingLabel" styleClass="loading-label" visible="false" />

    <!-- Main layout over the background -->
    <VBox spacing="30" alignment="CENTER" styleClass="main-container">
        <!-- Error label -->
        <Label fx:id="errorLabel" styleClass="error-label" />



        <ListView fx:id="lobbyList" prefHeight="200" prefWidth="300" visible="false"/>

        <!-- Big buttons -->
        <VBox spacing="20" alignment="CENTER">
            <Button fx:id="joinButton" text="Join Lobby" onMouseClicked="#onJoinLobby"
                    prefWidth="300" prefHeight="80" styleClass="main-button" />
            <Button fx:id="createButton" text="Create Lobby" onMouseClicked="#onCreateLobby"
                    prefWidth="300" prefHeight="80" styleClass="main-button" />
        </VBox>

        <VBox spacing="10" alignment="CENTER" fx:id="createForm" visible="false">
            <Label text="Max Players:"  style="-fx-text-fill: white; -fx-font-weight: bold;"/>
            <Spinner fx:id="maxPlayersSpinner" min="2" max="4" initialValue="2" />

            <Label text="Level:" style="-fx-text-fill: white; -fx-font-weight: bold;" />
            <ChoiceBox fx:id="levelChoiceBox">
                <items>
                    <FXCollections fx:factory="observableArrayList">
                        <Integer fx:value="0"/>
                        <Integer fx:value="2"/>
                    </FXCollections>
                </items>
            </ChoiceBox>

            <Label text="Color:" style="-fx-text-fill: white; -fx-font-weight: bold;" />
            <ChoiceBox fx:id="colorChoiceBox">
                <items>
                    <FXCollections fx:factory="observableArrayList">
                        <String fx:value="RED"/>
                        <String fx:value="GREEN"/>
                        <String fx:value="BLUE"/>
                        <String fx:value="YELLOW"/>
                    </FXCollections>
                </items>
            </ChoiceBox>

            <Button text="Confirm Create" onMouseClicked="#onConfirmCreateLobby" styleClass="confirm-button" />
        </VBox>

        <!-- Small refresh button -->
        <Button fx:id="refreshButton" text="Refresh Lobbies" onMouseClicked="#onRefreshLobbies"
                prefWidth="180" prefHeight="40" styleClass="refresh-button" />
    </VBox>
</StackPane>
